<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The number of connections that can be open at the same time in R is
typically 128, where the first three are occupied by the always open
stdin(), stdout(), and stderr() connections, which leaves 125 slots
available for other types of connections.  Connections are used in many
places, e.g. reading and writing to file, downloading URLs, communicating
with parallel R processes over a socket connections, and capturing standard
output via text connections."><title>Number of Available and Free Connections — availableConnections • parallelly</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Number of Available and Free Connections — availableConnections"><meta property="og:description" content="The number of connections that can be open at the same time in R is
typically 128, where the first three are occupied by the always open
stdin(), stdout(), and stderr() connections, which leaves 125 slots
available for other types of connections.  Connections are used in many
places, e.g. reading and writing to file, downloading URLs, communicating
with parallel R processes over a socket connections, and capturing standard
output via text connections."><meta property="og:image" content="https://parallelly.futureverse.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">parallelly</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.30.0-9002</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://www.futureverse.org/">
    <span class="fas fa fas fa-fast-backward"></span>
     
  </a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-packages">Packages</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-packages">
    <a class="external-link dropdown-item" href="https://BiocParallel.FutureParam.futureverse.org">BiocParallel.FutureParam</a>
    <a class="external-link dropdown-item" href="https://doFuture.futureverse.org">doFuture</a>
    <a class="external-link dropdown-item" href="https://furrr.futureverse.org">furrr</a>
    <a class="external-link dropdown-item" href="https://future.futureverse.org">future</a>
    <a class="external-link dropdown-item" href="https://future.apply.futureverse.org">future.apply</a>
    <a class="external-link dropdown-item" href="https://future.batchtools.futureverse.org">future.batchtools</a>
    <a class="external-link dropdown-item" href="https://future.callr.futureverse.org">future.callr</a>
    <a class="external-link dropdown-item" href="https://future.tests.futureverse.org">future.tests</a>
    <a class="external-link dropdown-item" href="https://globals.futureverse.org">globals</a>
    <a class="external-link dropdown-item" href="https://listenv.futureverse.org">listenv</a>
    <a class="dropdown-item" href="https://parallelly.futureverse.org">parallelly</a>
    <a class="external-link dropdown-item" href="https://progressr.futureverse.org">progressr</a>
    <a class="external-link dropdown-item" href="https://future.mapreduce.futureverse.org">future.mapreduce (experimental)</a>
    <a class="external-link dropdown-item" href="https://marshal.futureverse.org">marshal (experimental)</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://cloud.r-project.org/package=parallelly">
    <span class="fab fa fab fa-r-project"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/HenrikBengtsson/parallelly/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Number of Available and Free Connections</h1>
      <small class="dont-index">Source: <a href="https://github.com/HenrikBengtsson/parallelly/blob/HEAD/R/availableConnections.R" class="external-link"><code>R/availableConnections.R</code></a></small>
      <div class="d-none name"><code>availableConnections.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The number of <a href="https://rdrr.io/r/base/connections.html" class="external-link">connections</a> that can be open at the same time in <span style="R">R</span> is
<em>typically</em> 128, where the first three are occupied by the always open
<code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdin()</a></code>, <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stdout()</a></code>, and <code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">stderr()</a></code> connections, which leaves 125 slots
available for other types of connections.  Connections are used in many
places, e.g. reading and writing to file, downloading URLs, communicating
with parallel <span style="R">R</span> processes over a socket connections, and capturing standard
output via text connections.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">availableConnections</span><span class="op">(</span><span class="op">)</span>

<span class="fu">freeConnections</span><span class="op">(</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A non-negative integer, or <code>+Inf</code> if the available number of connections
is greated than 16384, which is a limit be set via option
<span class="option">parallelly.availableConnections.tries</span>.</p>
    </div>
    <div class="section level2">
    <h2 id="how-to-increase-the-limit">How to increase the limit<a class="anchor" aria-label="anchor" href="#how-to-increase-the-limit"></a></h2>
    

<p>This limit of 128 connections can only be changed by rebuilding <span style="R">R</span> from
source.  The limited is hardcoded as a</p><div class="sourceCode c"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#define NCONNECTIONS 128</span></span></code></pre><p></p></div>
<p>in <code class="file">src/main/connections.c</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="how-the-limit-is-identified">How the limit is identified<a class="anchor" aria-label="anchor" href="#how-the-limit-is-identified"></a></h2>
    

<p>Since the limit <em>might</em> changed, for instance in custom <span style="R">R</span> builds or in
future releases of <span style="R">R</span>, we do not want to assume that the limit is 128 for
all <span style="R">R</span> installation.  Unfortunately, it is not possible to query <span style="R">R</span> for what
the limit is.
Instead, <code>availableConnections()</code> infers it from trial-and-error.
until it fails.  For efficiency, the result is memoized throughout the
current <span style="R">R</span> session.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    
<ol><li><p>'WISH: Increase limit of maximum number of open connections (currently 125+3)', 2016-07-09,
<a href="https://github.com/HenrikBengtsson/Wishlist-for-R/issues/28" class="external-link">https://github.com/HenrikBengtsson/Wishlist-for-R/issues/28</a></p></li>
</ol></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/r/base/showConnections.html" class="external-link">base::showConnections()</a></code>.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="va">total</span> <span class="op">&lt;-</span> <span class="fu">availableConnections</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"You can have "</span>, <span class="va">total</span>, <span class="st">" connections open in this R installation"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> You can have 128 connections open in this R installation</span>
<span class="r-in"><span class="va">free</span> <span class="op">&lt;-</span> <span class="fu">freeConnections</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"There are "</span>, <span class="va">free</span>, <span class="st">" connections remaining"</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> There are 124 connections remaining</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2 and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9003.</p>
</div>

    </footer></div>

  

  

  </body></html>

