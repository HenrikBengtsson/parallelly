<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enhancing the parallel Package • parallelly</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Enhancing the parallel Package">
<meta property="og:description" content="Utility functions that enhance the parallel package and support the built-in parallel backends of the future package.  For example, availableCores() gives the number of CPU cores available to your R process as given by the operating system, cgroups and Linux containers, R options, and environment variables, including those set by job schedulers on high-performance compute clusters. If none is set, it will fall back to parallel::detectCores(). Another example is makeClusterPSOCK(), which is backward compatible with parallel::makePSOCKcluster() while doing a better job in setting up remote cluster workers without the need for configuring the firewall to do port-forwarding to your local computer.">
<meta property="og:image" content="https://parallelly.futureverse.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">parallelly</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.37.1-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://www.futureverse.org/" class="external-link">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://doFuture.futureverse.org" class="external-link">doFuture</a>
    </li>
    <li>
      <a href="https://furrr.futureverse.org" class="external-link">furrr</a>
    </li>
    <li>
      <a href="https://future.futureverse.org" class="external-link">future</a>
    </li>
    <li>
      <a href="https://future.apply.futureverse.org" class="external-link">future.apply</a>
    </li>
    <li>
      <a href="https://future.batchtools.futureverse.org" class="external-link">future.batchtools</a>
    </li>
    <li>
      <a href="https://future.callr.futureverse.org" class="external-link">future.callr</a>
    </li>
    <li>
      <a href="https://future.tests.futureverse.org" class="external-link">future.tests</a>
    </li>
    <li>
      <a href="https://globals.futureverse.org" class="external-link">globals</a>
    </li>
    <li>
      <a href="https://listenv.futureverse.org" class="external-link">listenv</a>
    </li>
    <li>
      <a href="https://parallelly.futureverse.org">parallelly</a>
    </li>
    <li>
      <a href="https://progressr.futureverse.org" class="external-link">progressr</a>
    </li>
    <li>
      <a href="https://BiocParallel.FutureParam.futureverse.org" class="external-link">BiocParallel.FutureParam (experimental)</a>
    </li>
    <li>
      <a href="https://future.tools.futureverse.org" class="external-link">future.tools (experimental)</a>
    </li>
    <li>
      <a href="https://future.mirai.futureverse.org" class="external-link">future.mirai (experimental)</a>
    </li>
    <li>
      <a href="https://future.mapreduce.futureverse.org" class="external-link">future.mapreduce (experimental)</a>
    </li>
    <li>
      <a href="https://marshal.futureverse.org" class="external-link">marshal (experimental)</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://cloud.r-project.org/package=parallelly" class="external-link">
    <span class="fab fa-r-project"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/HenrikBengtsson/parallelly/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="parallelly-enhancing-the-parallel-package-">parallelly: Enhancing the ‘parallel’ Package <img border="0" src="reference/figures/logo.png" alt="The 'parallelly' hexlogo" align="right"><a class="anchor" aria-label="anchor" href="#parallelly-enhancing-the-parallel-package-"></a>
</h1></div>
<p>The <strong>parallelly</strong> package provides functions that enhance the <strong>parallel</strong> packages. For example, <code><a href="reference/availableCores.html">availableCores()</a></code> gives the number of CPU cores available to your R process as given by R options and environment variables, including those set by job schedulers on high-performance compute (HPC) clusters. If R runs under ‘cgroups’ or in a Linux container, then their settings are acknowledges too. If nothing else is set, then it will fall back to <code><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">parallel::detectCores()</a></code>. Another example is <code><a href="reference/makeClusterPSOCK.html">makeClusterPSOCK()</a></code>, which is backward compatible with <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makePSOCKcluster()</a></code> while doing a better job in setting up remote cluster workers without having to know your local public IP address and configuring the firewall to do port-forwarding to your local computer. The functions and features added to this package are written to be backward compatible with the <strong>parallel</strong> package, such that they may be incorporated there later. The <strong>parallelly</strong> package comes with an open invitation for the R Core Team to adopt all or parts of its code into the <strong>parallel</strong> package.</p>
<div class="section level2">
<h2 id="feature-comparison-parallelly-vs-parallel">Feature Comparison ‘parallelly’ vs ‘parallel’<a class="anchor" aria-label="anchor" href="#feature-comparison-parallelly-vs-parallel"></a>
</h2>
<table class="table">
<colgroup>
<col width="57%">
<col width="25%">
<col width="16%">
</colgroup>
<thead><tr class="header">
<th></th>
<th align="center">parallelly</th>
<th align="center">parallel</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>remote clusters without knowing local public IP</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>remote clusters without firewall configuration</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>remote username in ~/.ssh/config</td>
<td align="center">✓</td>
<td align="center">R (&gt;= 4.1.0) with <code>user = NULL</code>
</td>
</tr>
<tr class="even">
<td>set workers’ library package path on startup</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>set workers’ environment variables on startup</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>custom workers startup code</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>fallback to RStudio’s SSH and PuTTY’s plink</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>faster, parallel setup of local workers (R &gt;= 4.0.0)</td>
<td align="center">✓</td>
<td align="center">✓</td>
</tr>
<tr class="odd">
<td>faster, little-endian protocol by default</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>faster, low-latency socket connections by default</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>validation of cluster at setup</td>
<td align="center">✓</td>
<td align="center">✓</td>
</tr>
<tr class="even">
<td>attempt to launch failed workers multiple times</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>collect worker details at cluster setup</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>termination of workers if cluster setup fails</td>
<td align="center">✓</td>
<td align="center">R (&gt;= 4.0.0)</td>
</tr>
<tr class="odd">
<td>shutdown of cluster by garbage collector</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>combining multiple, existing clusters</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>more informative printing of cluster objects</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>check if local and remote workers are alive</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>restart local and remote workers</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>defaults via options &amp; environment variables</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>respecting CPU resources allocated by cgroups, Linux containers, and HPC schedulers</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="even">
<td>early error if requesting more workers than possible</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
<tr class="odd">
<td>informative error messages</td>
<td align="center">✓</td>
<td align="center">N/A</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="compatibility-with-the-parallel-package">Compatibility with the parallel package<a class="anchor" aria-label="anchor" href="#compatibility-with-the-parallel-package"></a>
</h2>
<p>Any cluster created by the <strong>parallelly</strong> package is fully compatible with the clusters created by the <strong>parallel</strong> package and can be used by all of <strong>parallel</strong>’s functions for cluster processing, e.g. <code><a href="https://rdrr.io/r/parallel/clusterApply.html" class="external-link">parallel::clusterEvalQ()</a></code> and <code><a href="https://rdrr.io/r/parallel/clusterApply.html" class="external-link">parallel::parLapply()</a></code>. The <code><a href="reference/makeClusterPSOCK.html">parallelly::makeClusterPSOCK()</a></code> function can be used as a stand-in replacement of the <code><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">parallel::makePSOCKcluster()</a></code>, or equivalently, <code>parallel::makeCluster(..., type = "PSOCK")</code>.</p>
<p>Most of <strong>parallelly</strong> functions apply also to clusters created by the <strong>parallel</strong> package. For example,</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/makeCluster.html" class="external-link">makeCluster</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu">parallelly</span><span class="fu">::</span><span class="fu"><a href="reference/autoStopCluster.html">autoStopCluster</a></span><span class="op">(</span><span class="va">cl</span><span class="op">)</span></span></code></pre></div>
<p>makes the cluster created by <strong>parallel</strong> to shut down automatically when R’s garbage collector removes the cluster object. This lowers the risk for leaving stray R worker processes running in the background by mistake. Another way to achieve the above in a single call is to use:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cl</span> <span class="op">&lt;-</span> <span class="fu">parallelly</span><span class="fu">::</span><span class="fu"><a href="reference/makeClusterPSOCK.html">makeClusterPSOCK</a></span><span class="op">(</span><span class="fl">2</span>, autoStop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="availablecores-vs-paralleldetectcores">availableCores() vs parallel::detectCores()<a class="anchor" aria-label="anchor" href="#availablecores-vs-paralleldetectcores"></a>
</h3>
<p>The <code><a href="reference/availableCores.html">availableCores()</a></code> function is designed as a better, safer alternative to <code>detectCores()</code> of the <strong>parallel</strong> package. It is designed to be a worry-free solution for developers and end-users to query the number of available cores - a solution that plays nice on multi-tenant systems, in Linux containers, on high-performance compute (HPC) cluster, on CRAN and Bioconductor check servers, and elsewhere.</p>
<p>Did you know that <code><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">parallel::detectCores()</a></code> might return NA on some systems, or that <code>parallel::detectCores() - 1</code> might return 0 on some systems, e.g. old hardware and virtual machines? Because of this, you have to use <code>max(1, parallel::detectCores() - 1, na.rm = TRUE)</code> to get it correct. In contrast, <code><a href="reference/availableCores.html">parallelly::availableCores()</a></code> is guaranteed to return a positive integer, and you can use <code>parallelly::availableCores(omit = 1)</code> to return all but one core and always at least one.</p>
<p>Just like other software tools that “hijacks” all cores by default, R scripts, and packages that defaults to <code>detectCores()</code> number of parallel workers cause lots of suffering for fellow end-users and system administrators. For instance, a shared server with 48 cores will come to a halt already after a few users run parallel processing using <code>detectCores()</code> number of parallel workers. This problem gets worse on machines with many cores because they can host even more concurrent users. If these R users would have used <code><a href="reference/availableCores.html">availableCores()</a></code> instead, then the system administrator can limit the number of cores each user get to, say, two (2), by setting the environment variable <code>R_PARALLELLY_AVAILABLECORES_FALLBACK=2</code>. In contrast, it is <em>not</em> possible to override what <code><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">parallel::detectCores()</a></code> returns, cf. <a href="https://bugs.r-project.org/show_bug.cgi?id=17641" class="external-link">PR#17641 - WISH: Make parallel::detectCores() agile to new env var R_DEFAULT_CORES</a>.</p>
<p>Similarly, <code><a href="reference/availableCores.html">availableCores()</a></code> is also agile to CPU limitations set by Unix control groups (cgroups), which is often used by Linux containers (e.g. Docker, Apptainer / Singularity, and Podman) and Kubernetes (K8s) environments. For example, <code>docker run --cpuset-cpus=0-2,8 ...</code> sets the CPU affinity so that the processes can only run on CPUs 0, 1, 2, and 8 on the host system. In this case <code><a href="reference/availableCores.html">availableCores()</a></code> detects this and returns four (4). Another example is <code>docker run --cpu=3.4 ...</code>, which throttles the CPU quota to on average 3.4 CPUs on the host system. In this case <code><a href="reference/availableCores.html">availableCores()</a></code> detects this and returns three (3), because it rounds to the nearest integer. In contrast, <code><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">parallel::detectCores()</a></code> completely ignores such cgroups settings and returns the number of CPUs on the host system, which results in CPU overuse and degredated performance. Continous Integration (CI) services (e.g. GitHub Actions, Travis CI, and Appveyor CI) and cloud services (e.g. RStudio Cloud) use these types of cgroups settings under the hood, which means <code><a href="reference/availableCores.html">availableCores()</a></code> respects their CPU allocations.</p>
<p>If running on an HPC cluster with a job scheduler, a script that uses <code><a href="reference/availableCores.html">availableCores()</a></code> will run the number of parallel workers that the job scheduler has assigned to the job. For example, if we submit a Slurm job as <code>sbatch --cpus-per-task=16 ...</code>, then <code><a href="reference/availableCores.html">availableCores()</a></code> returns 16, because it respects the <code>SLURM_*</code> environment variables set by the scheduler. On Son of Grid Engine (SGE), the scheduler sets <code>NSLOTS</code> when submitting using <code>qsub -pe smp 8 ...</code> and <code><a href="reference/availableCores.html">availableCores()</a></code> returns eight (8). See <code><a href="reference/availableCores.html">help("availableCores", package = "parallelly")</a></code> for currently supported job schedulers, which includes ‘Fujitsu Technical Computing Suite’, ‘Load Sharing Facility’ (LSF), Simple Linux Utility for Resource Management (Slurm), Sun Grid Engine/Oracle Grid Engine/Son of Grid Engine (SGE), Univa Grid Engine (UGE), and TORQUE/PBS.</p>
<p>Of course, <code><a href="reference/availableCores.html">availableCores()</a></code> respects also R options and environment variables commonly used to specify the number of parallel workers, e.g. R option <code>mc.cores</code> and Bioconductor environment variable <code>BIOCPARALLEL_WORKER_NUMBER</code>. It will also detect when running <code>R CMD check</code> and limit the number of workers to two (2), which is the maximum number of parallel workers allowed by the <a href="https://cran.r-project.org/web/packages/policies.html" class="external-link">CRAN Policies</a>. This way you, as a package developer, know that your package will always play by the rules on CRAN and Bioconductor.</p>
<p>If nothing is set that limits the number of cores, then <code><a href="reference/availableCores.html">availableCores()</a></code> falls back to <code><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">parallel::detectCores()</a></code> and if that returns <code>NA_integer_</code> then one (1) is returned.</p>
<p>The below table summarize the benefits:</p>
<table class="table">
<colgroup>
<col width="46%">
<col width="19%">
<col width="34%">
</colgroup>
<thead><tr class="header">
<th></th>
<th align="center">availableCores()</th>
<th align="center">parallel::detectCores()</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Guaranteed to return a positive integer</td>
<td align="center">✓</td>
<td align="center">no (may return <code>NA_integer_</code>)</td>
</tr>
<tr class="even">
<td>Safely use all but some cores</td>
<td align="center">✓</td>
<td align="center">no (may return zero or less)</td>
</tr>
<tr class="odd">
<td>Can be overridden, e.g. by a sysadm</td>
<td align="center">✓</td>
<td align="center">no</td>
</tr>
<tr class="even">
<td>Respects cgroups and Linux containers</td>
<td align="center">✓</td>
<td align="center">no</td>
</tr>
<tr class="odd">
<td>Respects job scheduler allocations</td>
<td align="center">✓</td>
<td align="center">no</td>
</tr>
<tr class="even">
<td>Respects CRAN policies</td>
<td align="center">✓</td>
<td align="center">no</td>
</tr>
<tr class="odd">
<td>Respects Bioconductor policies</td>
<td align="center">✓</td>
<td align="center">no</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="backward-compatibility-with-the-future-package">Backward compatibility with the future package<a class="anchor" aria-label="anchor" href="#backward-compatibility-with-the-future-package"></a>
</h2>
<p>The functions in this package originate from the <strong><a href="https://cran.r-project.org/package=future" class="external-link">future</a></strong> package where we have used and validated them for several years. I moved these functions to this separate package in 2020, because they are also useful outside of the future framework. For backward-compatibility reasons of the future framework, the R options and environment variables that are prefixed with <code>parallelly.*</code> and <code>R_PARALLELLY_*</code> can for the time being also be set with <code>future.*</code> and <code>R_FUTURE_*</code> prefixes.</p>
</div>
<div class="section level2">
<h2 id="roadmap">Roadmap<a class="anchor" aria-label="anchor" href="#roadmap"></a>
</h2>
<ul class="task-list">
<li><p><label><input type="checkbox" checked>Submit <strong>parallelly</strong> to CRAN, with minimal changes compared to the corresponding functions in the <strong>future</strong> package (on CRAN as of 2020-10-20)</label></p></li>
<li><p><label><input type="checkbox" checked>Update the <strong>future</strong> package to import and re-export the functions from the <strong>parallelly</strong> to maximize backward compatibility in the future framework (<strong>future</strong> 1.20.1 on CRAN as of 2020-11-03)</label></p></li>
<li><p><label><input type="checkbox" checked>Switch to use 10-15% faster <code>useXDR=FALSE</code></label></p></li>
<li><p><label><input type="checkbox" checked>Implement same fast parallel setup of parallel PSOCK workers as in <strong>parallel</strong> (&gt;= 4.0.0)</label></p></li>
<li><p><label><input type="checkbox" checked>After having validated that there is no negative impact on the future framework, allow for changes in the <strong>parallelly</strong> package, e.g. renaming the R options and environment variable to be <code>parallelly.*</code> and <code>R_PARALLELLY_*</code> while falling back to <code>future.*</code> and <code>R_FUTURE_*</code></label></p></li>
<li><p><label><input type="checkbox">Migrate, currently internal, UUID functions and export them, e.g. <code>uuid()</code>, <code>connectionUuid()</code>, and <code>sessionUuid()</code> (<a href="https://github.com/HenrikBengtsson/Wishlist-for-R/issues/96" class="external-link uri">https://github.com/HenrikBengtsson/Wishlist-for-R/issues/96</a>). Because <a href="https://github.com/HenrikBengtsson/Wishlist-for-R/issues/21" class="external-link">R does not have a built-in md5 checksum function that operates on object</a>, these functions require us adding a dependency on the <strong><a href="https://cran.r-project.org/package=digest" class="external-link">digest</a></strong> package.</label></p></li>
<li><p><label><input type="checkbox">Add vignettes on how to set up cluster running on local or remote machines, including in Linux containers and on popular cloud services, and vignettes on common problems and how to troubleshoot them</label></p></li>
</ul>
<p>Initially, backward compatibility for the <strong>future</strong> package is of top priority.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>R package parallelly is available on <a href="https://cran.r-project.org/package=parallelly" class="external-link">CRAN</a> and can be installed in R as:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"parallelly"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="pre-release-version">Pre-release version<a class="anchor" aria-label="anchor" href="#pre-release-version"></a>
</h3>
<p>To install the pre-release version that is available in Git branch <code>develop</code> on GitHub, use:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"HenrikBengtsson/parallelly"</span>, ref<span class="op">=</span><span class="st">"develop"</span><span class="op">)</span></span></code></pre></div>
<p>This will install the package from source.</p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=parallelly" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/HenrikBengtsson/parallelly/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/HenrikBengtsson/parallelly/issues" class="external-link">Report a bug</a></li>
<li><a href="https://github.com/HenrikBengtsson/parallelly/milestones" class="external-link">Roadmap/Milestones</a></li>
<li><a href="https://www.futureverse.org/" class="external-link">The Futureverse Project</a></li>
<li><a href="https://github.com/HenrikBengtsson/future/discussions" class="external-link">Futureverse User Forum</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>LGPL (&gt;= 2.1)</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing parallelly</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Henrik Bengtsson <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-7579-5165" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/web/checks/check_results_parallelly.html" class="external-link"><img border="0" src="https://www.r-pkg.org/badges/version/parallelly" alt="CRAN check status"></a></li>
<li><a href="https://github.com/HenrikBengtsson/parallelly/actions?query=workflow%3AR-CMD-check" class="external-link"><img border="0" src="https://github.com/HenrikBengtsson/parallelly/actions/workflows/R-CMD-check.yaml/badge.svg?branch=develop" alt="R CMD check status"></a></li>
<li><a href="https://github.com/HenrikBengtsson/parallelly/actions?query=workflow%3Arevdepcheck-top" class="external-link"><img border="0" src="https://github.com/HenrikBengtsson/parallelly/actions/workflows/revdepcheck-top.yaml/badge.svg?branch=develop" alt="Top reverse-dependency checks status"></a></li>
<li><a href="https://app.codecov.io/gh/HenrikBengtsson/parallelly" class="external-link"><img border="0" src="https://codecov.io/gh/HenrikBengtsson/parallelly/branch/develop/graph/badge.svg" alt="Coverage Status"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9005.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'aa6e02fc501886fb0f7c91ac4e300456',
    indexName: 'futureverse',
    algoliaOptions: { 'facetFilters': ['project:parallelly'] },
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
