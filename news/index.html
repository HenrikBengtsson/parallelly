<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • parallelly</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Changelog" />
<meta property="og:image" content="https://parallelly.futureverse.org/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">parallelly</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.26.1-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://www.futureverse.org/">
    <span class="fas fa-fast-backward"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://BiocParallel.FutureParam.futureverse.org">BiocParallel.FutureParam</a>
    </li>
    <li>
      <a href="https://doFuture.futureverse.org">doFuture</a>
    </li>
    <li>
      <a href="https://furrr.futureverse.org">furrr</a>
    </li>
    <li>
      <a href="https://future.futureverse.org">future</a>
    </li>
    <li>
      <a href="https://future.apply.futureverse.org">future.apply</a>
    </li>
    <li>
      <a href="https://future.batchtools.futureverse.org">future.batchtools</a>
    </li>
    <li>
      <a href="https://future.callr.futureverse.org">future.callr</a>
    </li>
    <li>
      <a href="https://future.tests.futureverse.org">future.tests</a>
    </li>
    <li>
      <a href="https://globals.futureverse.org">globals</a>
    </li>
    <li>
      <a href="https://listenv.futureverse.org">listenv</a>
    </li>
    <li>
      <a href="https://parallelly.futureverse.org">parallelly</a>
    </li>
    <li>
      <a href="https://progressr.futureverse.org">progressr</a>
    </li>
    <li>
      <a href="https://future.mapreduce.futureverse.org">future.mapreduce (experimental)</a>
    </li>
    <li>
      <a href="https://marshal.futureverse.org">marshal (experimental)</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://cloud.r-project.org/package=parallelly">
    <span class="fab fa-r-project"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/HenrikBengtsson/parallelly/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/HenrikBengtsson/parallelly/blob/master/NEWS'><code>NEWS</code></a></small>
    </div>

    <div id="parallelly-1-26-1-9000" class="section level1">
<h1 class="page-header" data-toc-text="1.26.1-9000">
<a href="#parallelly-1-26-1-9000" class="anchor"></a>parallelly 1.26.1-9000<small> Unreleased </small>
</h1>
</div>
    <div id="parallelly-1-26-1" class="section level1">
<h1 class="page-header" data-toc-text="1.26.1">
<a href="#parallelly-1-26-1" class="anchor"></a>parallelly 1.26.1<small> 2021-06-30 </small>
</h1>
<div id="new-features" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New Features</h3>
<ul>
<li>print() on RichSOCKcluster mentions when the cluster is registered to be automatically stopped by the garbage collector.</li>
</ul>
</div>
<div id="workaround" class="section level3">
<h3 class="hasAnchor">
<a href="#workaround" class="anchor"></a>Workaround</h3>
<ul>
<li>Depending on R version used, the RStudio Console does not support the new ‘setup_strategy = “parallel”’ when using makeClusterPSOCK() or parallel::makeCluster(). The symptom is that they, after a long wait, result in “Error in makeClusterPSOCK(workers, …) : Cluster setup failed. &lt;n&gt; of &lt;n&gt; workers failed to connect.” This is due to a bug in R, which has been fixed for R (&gt;= 4.1.1) but also in a recent R 4.1.0 Patched. For R (&gt;= 4.0.0) or R (&lt;= 4.1.0), this release works around the problem by forcing ‘setup_strategy = “sequential” for ’parallelly’ and ‘parallel’ when running in the RStudio Console. If you wish to override this behavior, you can always set option ‘parallelly.makeNodePSOCK.setup_strategy’ to “parallel”, e.g. in your ~/.Rprofile file. Alternatively, you can set the environment variable ‘R_PARALLELLY_MAKENODEPSOCK_SETUP_STRATEGY=parallel’, e.g. in your ~/.Renviron file.</li>
</ul>
</div>
<div id="bug-fixes" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>On systems with ‘nproc’ installed, availableCores() would be limited by environment variables ‘OMP_NUM_THREADS’ and ‘OMP_THREAD_LIMIT’, if set. For example, on conservative systems that set ‘OMP_NUM_THREADS=1’ as the default, availableCores() would pick this up via ‘nproc’ and return 1. This was not the intended behavior. Now those environment variables are temporarily unset before querying ‘nproc’.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-26-0" class="section level1">
<h1 class="page-header" data-toc-text="1.26.0">
<a href="#parallelly-1-26-0" class="anchor"></a>parallelly 1.26.0<small> 2021-06-09 </small>
</h1>
<div id="significant-changes" class="section level3">
<h3 class="hasAnchor">
<a href="#significant-changes" class="anchor"></a>Significant Changes</h3>
<ul>
<li>R_PARALLELLY_* (and R_FUTURE_*) environment variables are now only read when the ‘parallelly’ package is loaded, where they set the corresponding parallelly.* option. Previously, some of these environment variables were queried by different functions as a fallback to when an option was not set. By only parsing them when the package is loaded, it decrease the overhead in functions, and it clarifies that options can be changed at runtime whereas environment variables should only be set at startup.</li>
</ul>
</div>
<div id="new-features-1" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New Features</h3>
<ul>
<li><p>makeClusterPSOCK() now support setting up cluster nodes in parallel similarly to how parallel::makePSOCKcluster() does it. This significantly reduces the setup turnaround time. This is only supported in R (&gt;= 4.0.0). To revert to the sequential setup strategy, set R option ‘parallelly.makeNodePSOCK.setup_strategy’ to “sequential”.</p></li>
<li><p>Add freePort() to get a random TCP port that can be opened.</p></li>
</ul>
</div>
<div id="documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h3>
<ul>
<li>Documenting more R options and environment variables used by this package.</li>
</ul>
</div>
<div id="bug-fixes-1" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>R option ‘parallelly.availableCores.fallback’ and environment variable ‘R_PARALLELLY_AVAILABLECORES_FALLBACK’ was ignored since parallelly 1.22.0, when support for ‘nproc’ was added to availableCores().</li>
</ul>
</div>
</div>
    <div id="parallelly-1-25-0" class="section level1">
<h1 class="page-header" data-toc-text="1.25.0">
<a href="#parallelly-1-25-0" class="anchor"></a>parallelly 1.25.0<small> 2021-04-30 </small>
</h1>
<div id="significant-changes-1" class="section level3">
<h3 class="hasAnchor">
<a href="#significant-changes-1" class="anchor"></a>Significant Changes</h3>
<ul>
<li>The default SSH client on MS Windows 10 is now the built in ‘ssh’ client. This means that regardless whether you are on Linux, macOS, or Windows 10, setting up parallel workers on external machines over SSH finally works out of the box without having to install PuTTY or other SSH clients. This was possible because a workaround was found for a Windows 10 bug preventing us from using reverse tunneling over SSH. It turns out the bug reveals itself when using hostname ‘localhost’ but not ‘127.0.0.1’, so we use the latter.</li>
</ul>
</div>
<div id="new-features-2" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New Features</h3>
<ul>
<li>availableCores() gained argument ‘omit’ to make it easier to put aside zero or more cores from being used in parallel processing. For example, on a system with four cores, availableCores(omit = 1) returns 3. Importantly, since availableCores() is guaranteed to always return a positive integer, availableCores(omit = 4) == 1, even on systems with four or fewer cores. Using availableCores() - 4 on such systems would return a non-positive value, which would give an error downstream.</li>
</ul>
</div>
<div id="bug-fixes-2" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-2" class="anchor"></a>Bug Fixes</h3>
<ul>
<li><p>makeClusterPSOCK(), or actually makeNodePSOCK(), did not accept all types of environment variable names when using ‘rscript_envs’, e.g. it would give an error if we tried to pass ‘_R_CLASS_MATRIX_ARRAY_’.</p></li>
<li><p>makeClusterPSOCK() had a “length &gt; 1 in coercion to logical” bug that could affect especially MS Windows 10 users.</p></li>
</ul>
</div>
</div>
    <div id="parallelly-1-24-0" class="section level1">
<h1 class="page-header" data-toc-text="1.24.0">
<a href="#parallelly-1-24-0" class="anchor"></a>parallelly 1.24.0<small> 2021-03-14 </small>
</h1>
<div id="significant-changes-2" class="section level3">
<h3 class="hasAnchor">
<a href="#significant-changes-2" class="anchor"></a>Significant Changes</h3>
<ul>
<li>The default SSH client on MS Windows is now, in order of availability: (i) ‘plink’ of the PuTTY software, (ii) ‘ssh’ in the RStudio distribution, and (iii) ‘ssh’ of Windows 10. Previously, the latter was considered first but that still has a bug preventing us from using reverse tunneling.</li>
</ul>
</div>
<div id="new-features-3" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New Features</h3>
<ul>
<li><p>makeClusterPSOCK(), or actually makeNodePSOCK(), gained argument ‘quiet’, which can be used to silence output produced by ‘manual = TRUE’.</p></li>
<li><p>c() for ‘cluster’ objects now warns about duplicated cluster nodes.</p></li>
<li><p>Add isForkedNode() to test if a cluster node runs in a forked process.</p></li>
<li><p>Add isLocalhostNode() to test if a cluster node runs on the current machine.</p></li>
<li><p>Now availableCores() and availableWorkers() avoid recursive calls to the custom function given by options ‘parallelly.availableCores.custom’ and ‘parallelly.availableWorkers.custom’, respectively.</p></li>
<li><p>availableWorkers() now recognizes the Slurm environment variable ‘SLURM_JOB_NODELIST’, e.g. “dev1,n[3-4,095-120]”. It will use ‘scontrol show hostnames “$SLURM_JOB_NODELIST”’ to expand it, if supported on the current machine, otherwise it will attempt to parse and expand the nodelist specification using R. If either of environment variable ‘SLURM_JOB_CPUS_PER_NODE’ or ‘SLURM_TASKS_PER_NODE’ is set, then each node in the nodelist will be represented that number of times. If in addition, environment variable ‘SLURM_CPUS_PER_TASK’ (always a scalar), then that is also respected.</p></li>
</ul>
</div>
<div id="miscellaneous" class="section level3">
<h3 class="hasAnchor">
<a href="#miscellaneous" class="anchor"></a>Miscellaneous</h3>
<ul>
<li>All code is now using the ‘parallelly.’ prefix for options and the ‘R_PARALLELLY_’ prefix for environment variables. Settings that use the corresponding ‘future.’ and ‘R_FUTURE_’ prefixes are still recognized.</li>
</ul>
</div>
<div id="bug-fixes-3" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-3" class="anchor"></a>Bug Fixes</h3>
<ul>
<li><p>availableCores() did not respect environment variable ‘SLURM_TASKS_PER_NODE’ when the job was allocated more than one node.</p></li>
<li><p>Above argument ‘quiet’ was introduced in future 1.19.1 but was mistakenly dropped from parallelly 1.20.0 when that was released, and therefore also from future (&gt;= 1.20.0).</p></li>
</ul>
</div>
</div>
    <div id="parallelly-1-23-0" class="section level1">
<h1 class="page-header" data-toc-text="1.23.0">
<a href="#parallelly-1-23-0" class="anchor"></a>parallelly 1.23.0<small> 2021-01-04 </small>
</h1>
<div id="new-features-4" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New Features</h3>
<ul>
<li><p>availableCores(), availableWorkers(), and freeCores() gained argument ‘logical’, which is passed down to parallel::detectCores() as-is. The default is TRUE but it can be changed by setting the R option ‘parallelly.availableCores.logical’. This option can in turn be set via environment variable ‘R_PARALLELLY_AVAILABLECORES_LOGICAL’ which is applied (only) when the package is loaded.</p></li>
<li><p>Now makeClusterPSOCK() asserts that there are enough free connections available before attempting to create the parallel workers. If too many workers are requested, an informative error message is produced.</p></li>
<li><p>Add availableConnections() and freeConnections() to infer the maximum number of connections that the current R installation can have open at any time and how many of those are currently free to be used. This limit is typically 128 but may be different in custom R installations that are built from source.</p></li>
</ul>
</div>
</div>
    <div id="parallelly-1-22-0" class="section level1">
<h1 class="page-header" data-toc-text="1.22.0">
<a href="#parallelly-1-22-0" class="anchor"></a>parallelly 1.22.0<small> 2020-12-13 </small>
</h1>
<div id="new-features-5" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>New Features</h3>
<ul>
<li><p>Now availableCores() queries also Unix command ‘nproc’, if available. This will make it respect the number of CPU/cores limited by ‘cgroups’ and Linux containers.</p></li>
<li><p>PSOCK cluster workers are now set up to communicate using little endian (useXDR = FALSE) instead of big endian (useXDR = TRUE). Since most modern systems use little endian, ‘useXDR = FALSE’ speeds up the communication noticeably (10-15%) on those systems. The default value of this argument can be controlled by the R option ‘parallelly.makeNodePSOCK.useXDR’ or the corresponding environment variable ‘R_PARALLELLY_MAKENODEPSOCK_USEXDR’.</p></li>
</ul>
</div>
<div id="beta-features" class="section level3">
<h3 class="hasAnchor">
<a href="#beta-features" class="anchor"></a>Beta Features</h3>
<ul>
<li><p>Add cpuLoad() for querying the “average” system load on Unix-like systems.</p></li>
<li><p>Add freeCores() for estimating the average number of unused cores based on the average system load as given by cpuLoad().</p></li>
</ul>
</div>
<div id="bug-fixes-4" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-4" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>Except for environment variables ‘R_FUTURE_AVAILABLECORES_FALLBACK’ and ‘R_FUTURE_AVAILABLECORES_SYSTEM’, none of the ‘R_PARALLELLY_*’ and ‘R_FUTURE_*’ ones where recognized.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-21-0" class="section level1">
<h1 class="page-header" data-toc-text="1.21.0">
<a href="#parallelly-1-21-0" class="anchor"></a>parallelly 1.21.0<small> 2020-10-27 </small>
</h1>
<div id="significant-changes-3" class="section level3">
<h3 class="hasAnchor">
<a href="#significant-changes-3" class="anchor"></a>Significant Changes</h3>
<ul>
<li>Removed find_rshcmd() which was never meant to be exported.</li>
</ul>
</div>
<div id="new-features-6" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>New Features</h3>
<ul>
<li><p>makeClusterPSOCK() gained argument ‘validate’ to control whether or not the nodes should be tested after they’ve been created. The validation is done by querying each node for its session information, which is then saved as attribute ‘session_info’ on the cluster node object. This information is also used in error messages, if available. This validation has been done since version 1.5.0 but now it can be disabled. The default of argument ‘validate’ can be controlled via an R options and an environment variable.</p></li>
<li><p>Now makeNodePSOCK(…, rscript_envs = “UNKNOWN”) produces an informative warning on non-existing environment variables that was skipped.</p></li>
</ul>
</div>
<div id="bug-fixes-5" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-5" class="anchor"></a>Bug Fixes</h3>
<ul>
<li><p>makeClusterPSOCK() would produce an error on ‘one node produced an error: could not find function “getOptionOrEnvVar”’ if ‘parallelly’ is not available on the node.</p></li>
<li><p>makeClusterPSOCK() would attempt to loaded ‘parallelly’ on the worker. If it’s not available on the worker, it would result in a silent warning on the worker. Now ‘parallelly’ is not loaded.</p></li>
<li><p>makeClusterPSOCK(…, tries = n) would retry to setup a cluster node also on errors that were unrelated to node setup or node connection errors.</p></li>
<li><p>The error message on using an invalid ‘rscript_envs’ argument for makeClusterPSOCK() reported on the value of ‘rscript_libs’ (sic!).</p></li>
<li><p>makeNodePSOCK(…, rscript_envs = “UNKNOWN”) would result in an error when trying to launch the cluster node.</p></li>
</ul>
</div>
<div id="deprecated-and-defunct" class="section level3">
<h3 class="hasAnchor">
<a href="#deprecated-and-defunct" class="anchor"></a>Deprecated and Defunct</h3>
<ul>
<li>Removed find_rshcmd() which was never meant to be exported.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-20-0" class="section level1">
<h1 class="page-header" data-toc-text="1.20.0">
<a href="#parallelly-1-20-0" class="anchor"></a>parallelly 1.20.0<small> 2020-10-20 </small>
</h1>
<div id="significant-changes-4" class="section level3">
<h3 class="hasAnchor">
<a href="#significant-changes-4" class="anchor"></a>Significant Changes</h3>
<ul>
<li>Add availableCores(), and availableWorkers(), supportsMulticore(), as.cluster(), autoStopCluster(), makeClusterMPI(), makeClusterPSOCK(), and makeNodePSOCK() from the ‘future’ package.</li>
</ul>
</div>
<div id="new-features-7" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-7" class="anchor"></a>New Features</h3>
<ul>
<li>Add isConnectionValid() and connectionId() adopted from internal code of the ‘future’ package.</li>
</ul>
</div>
<div id="bug-fixes-6" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-6" class="anchor"></a>Bug Fixes</h3>
<ul>
<li><p>Renamed environment variable ‘R_FUTURE_MAKENODEPSOCK_tries’ used by makeClusterPSOCK() to ‘R_FUTURE_MAKENODEPSOCK_TRIES’.</p></li>
<li><p>connectionId() did not return -1L on Solaris for connections with internal ‘nil’ pointers because they were reported as ‘0’ - not ‘nil’ or ‘0x0’.</p></li>
</ul>
</div>
<div id="history" class="section level3">
<h3 class="hasAnchor">
<a href="#history" class="anchor"></a>History</h3>
<ul>
<li>Below is an excerpt of the future’s NEWS entries that are related to the functions in this package.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-19-0" class="section level1">
<h1 class="page-header" data-toc-text="1.19.0">
<a href="#parallelly-1-19-0" class="anchor"></a>parallelly 1.19.0<small> Unreleased </small>
</h1>
<div id="significant-changes-5" class="section level3">
<h3 class="hasAnchor">
<a href="#significant-changes-5" class="anchor"></a>Significant Changes</h3>
<ul>
<li><p>Now availableCores() better supports Slurm. Specifically, if environment variable ‘SLURM_CPUS_PER_TASK’ is not set, which requires that option –slurm-cpus-per-task=n’ is specified and SLURM_JOB_NUM_NODES=1, then it falls back to using ‘SLURM_CPUS_ON_NODE’, e.g. when using ‘–ntasks=n’.</p></li>
<li><p>Now availableCores() and availableWorkers() supports LSF/OpenLava. Specifically, they acknowledge environment variable ‘LSB_DJOB_NUMPROC’ and ‘LSB_HOSTS’, respectively.</p></li>
</ul>
</div>
<div id="new-features-8" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-8" class="anchor"></a>New Features</h3>
<ul>
<li><p>makeClusterPSOCK() will now retry to create a cluster node up to ‘tries’ (default: 3) times before giving up. If argument ‘port’ species more than one port (e.g. port = “random”) then it will also attempt find a valid random port up to ‘tries’ times before giving up. The pre-validation of the random port is only supported in R (&gt;= 4.0.0) and skipped otherwise.</p></li>
<li><p>makeClusterPSOCK() skips shell quoting of the elements in ‘rscript’ if it inherits from ‘AsIs’.</p></li>
<li><p>makeClusterPSOCK(), or actually makeNodePSOCK(), gained argument ‘quiet’, which can be used to silence output produced by ‘manual = TRUE’.</p></li>
</ul>
</div>
<div id="performance" class="section level3">
<h3 class="hasAnchor">
<a href="#performance" class="anchor"></a>Performance</h3>
<ul>
<li>Now plan(multisession), plan(cluster, workers = &lt;number&gt;), and makeClusterPSOCK() which they both use internally, sets up localhost workers twice as fast compared to versions since future 1.12.0, which brings it back to par with a bare-bone parallel::makeCluster(…, setup_strategy = “sequential”) setup. The slowdown was introduced in future 1.12.0 (2019-03-07) when protection against leaving stray R processes behind from failed worker startup was implemented. This protection now makes use of memoization for speedup.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-18-0" class="section level1">
<h1 class="page-header" data-toc-text="1.18.0">
<a href="#parallelly-1-18-0" class="anchor"></a>parallelly 1.18.0<small> Unreleased </small>
</h1>
<div id="new-features-9" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-9" class="anchor"></a>New Features</h3>
<ul>
<li><p>print() on RichSOCKcluster gives information not only on the name of the host but also on the version of R and the platform of each node (“worker”), e.g. “Socket cluster with 3 nodes where 2 nodes are on host ‘localhost’ (R version 4.0.0 (2020-04-24), platform x86_64-w64-mingw32), 1 node is on host ‘n3’ (R version 3.6.3 (2020-02-29), platform x86_64-pc-linux-gnu)”.</p></li>
<li><p>It is now possible to set environment variables on workers before they are launched by makeClusterPSOCK() by specify them as as “&lt;name&gt;=&lt;value&gt;” as part of the ‘rscript’ vector argument, e.g. rscript=c(“ABC=123”, “DEF=‘hello world’”, “Rscript”). This works because elements in ‘rscript’ that match regular expression ‘^[[:alpha:]_][[:alnum:]_]*=.*’ are no longer shell quoted.</p></li>
<li><p>makeClusterPSOCK() now returns a cluster that in addition to inheriting from’ SOCKcluster’ it will also inherit from ‘RichSOCKcluster’.</p></li>
</ul>
</div>
<div id="bug-fixes-7" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-7" class="anchor"></a>Bug Fixes</h3>
<ul>
<li><p>Made makeClusterPSOCK() and makeNodePSOCK() agile to the name change from parallel:::.slaveRSOCK() to parallel:::.workRSOCK() in R (&gt;= 4.1.0).</p></li>
<li><p>makeClusterPSOCK(…, rscript) will not try to locate rscript[1] if argument ‘homogeneous’ is FALSE (or inferred to be FALSE).</p></li>
<li><p>makeClusterPSOCK(…, rscript_envs) would result in a syntax error when starting the workers due to non-ASCII quotation marks if option ‘useFancyQuotes’ was not set to FALSE.</p></li>
</ul>
</div>
</div>
    <div id="parallelly-1-17-0" class="section level1">
<h1 class="page-header" data-toc-text="1.17.0">
<a href="#parallelly-1-17-0" class="anchor"></a>parallelly 1.17.0<small> Unreleased </small>
</h1>
<div id="new-features-10" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-10" class="anchor"></a>New Features</h3>
<ul>
<li>makeClusterPSOCK() gained argument ‘rscript_envs’ for setting environment variables in workers on startup, e.g. rscript_envs = c(FOO = “3.14”, “BAR”).</li>
</ul>
</div>
<div id="miscellaneous-1" class="section level3">
<h3 class="hasAnchor">
<a href="#miscellaneous-1" class="anchor"></a>Miscellaneous</h3>
<ul>
<li>Not all CRAN servers have _R_CHECK_LIMIT_CORES_ set. To better emulate CRAN submission checks, the future package will, when loaded, set this environment variable to ‘TRUE’ if unset and if ‘R CMD check’ is running. Note that future::availableCores() respects _R_CHECK_LIMIT_CORES_ and returns at most 2L (two cores) if detected.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-15-1" class="section level1">
<h1 class="page-header" data-toc-text="1.15.1">
<a href="#parallelly-1-15-1" class="anchor"></a>parallelly 1.15.1<small> Unreleased </small>
</h1>
<div id="new-features-11" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-11" class="anchor"></a>New Features</h3>
<ul>
<li>The default range of ports that makeClusterPSOCK() draws a random port from (when argument ‘port’ is not specified) can now be controlled by environment variable ‘R_FUTURE_RANDOM_PORTS’. The default range is still 11000:11999 as with the ‘parallel’ package.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-15-0" class="section level1">
<h1 class="page-header" data-toc-text="1.15.0">
<a href="#parallelly-1-15-0" class="anchor"></a>parallelly 1.15.0<small> Unreleased </small>
</h1>
<div id="documentation-1" class="section level3">
<h3 class="hasAnchor">
<a href="#documentation-1" class="anchor"></a>Documentation</h3>
<ul>
<li>Added ‘Troubleshooting’ section to ?makeClusterPSOCK with instructions on how to troubleshoot when the setup of local and remote clusters fail.</li>
</ul>
</div>
<div id="bug-fixes-8" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-8" class="anchor"></a>Bug Fixes</h3>
<ul>
<li><p>makeClusterPSOCK() could produce warnings like “cannot open file ‘/tmp/alice/Rtmpi69yYF/future.parent=2622.a3e32bc6af7.pid’: No such file”, e.g. when launching R workers running in Docker containers.</p></li>
<li><p>makeClusterMPI() did not work for MPI clusters with ‘comm’ other than ‘1’.</p></li>
</ul>
</div>
</div>
    <div id="parallelly-1-13-0" class="section level1">
<h1 class="page-header" data-toc-text="1.13.0">
<a href="#parallelly-1-13-0" class="anchor"></a>parallelly 1.13.0<small> Unreleased </small>
</h1>
<div id="new-features-12" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-12" class="anchor"></a>New Features</h3>
<ul>
<li><p>Now availableCores() also recognizes PBS environment variable ‘NCPUS’, because the PBSPro scheduler does not set ‘PBS_NUM_PPN’.</p></li>
<li><p>If, option ‘future.availableCores.custom’ is set to a function, then availableCores() will call that function and interpret its value as number of cores. Analogously, option ‘future.availableWorkers.custom’ can be used to specify a hostnames of a set of workers that availableWorkers() sees. These new options provide a mechanism for anyone to customize availableCores() and availableWorkers() in case they do not (yet) recognize, say, environment variables that are specific the user’s compute environment or HPC scheduler.</p></li>
<li><p>makeClusterPSOCK() gained support for argument ‘rscript_startup’ for evaluating one or more R expressions in the background R worker prior to the worker event loop launching. This provides a more convenient approach than having to use, say, ‘rscript_args = c(“-e”, sQuote(code))’.</p></li>
<li><p>makeClusterPSOCK() gained support for argument ‘rscript_libs’ to control the R package library search path on the workers. For example, to _prepend_ the folder ‘~/R-libs’ on the workers, use ‘rscript_libs = c(“~/R-libs”, “*”)’, where “*” will be resolved to the current ‘.libPaths()’ on the workers.</p></li>
</ul>
</div>
<div id="bug-fixes-9" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-9" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>makeClusterPSOCK() did not shell quote the Rscript executable when running its pre-tests checking whether localhost Rscript processes can be killed by their PIDs or not.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-12-0" class="section level1">
<h1 class="page-header" data-toc-text="1.12.0">
<a href="#parallelly-1-12-0" class="anchor"></a>parallelly 1.12.0<small> Unreleased </small>
</h1>
<div id="new-features-13" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-13" class="anchor"></a>New Features</h3>
<ul>
<li>If makeClusterPSOCK() fails to create one of many nodes, then it will attempt to stop any nodes that were successfully created. This lowers the risk for leaving R worker processes behind.</li>
</ul>
</div>
<div id="bug-fixes-10" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-10" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>makeClusterPSOCK() in future (&gt;= 1.11.1) produced warnings when argument ‘rscript’ had length(rscript) &gt; 1.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-11-1-1" class="section level1">
<h1 class="page-header" data-toc-text="1.11.1.1">
<a href="#parallelly-1-11-1-1" class="anchor"></a>parallelly 1.11.1.1<small> Unreleased </small>
</h1>
<div id="bug-fixes-11" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-11" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>When makeClusterPSOCK() fails to connect to a worker, it produces an error with detailed information on what could have happened. In rare cases, another error could be produced when generating the information on what the workers PID is.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-11-1" class="section level1">
<h1 class="page-header" data-toc-text="1.11.1">
<a href="#parallelly-1-11-1" class="anchor"></a>parallelly 1.11.1<small> Unreleased </small>
</h1>
<div id="new-features-14" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-14" class="anchor"></a>New Features</h3>
<ul>
<li>The defaults of several arguments of makeClusterPSOCK() and makeNodePSOCK() can now be controlled via environment variables in addition to R options that was supported in the past. An advantage of using environment variables is that they will be inherited by child processes, also nested ones.</li>
</ul>
</div>
<div id="software-quality" class="section level3">
<h3 class="hasAnchor">
<a href="#software-quality" class="anchor"></a>Software Quality</h3>
<ul>
<li>TESTS: When the ‘future’ package is loaded, it checks whether ‘R CMD check’ is running or not. If it is, then a few future-specific environment variables are adjusted such that the tests play nice with the testing environment. For instance, it sets the socket connection timeout for PSOCK cluster workers to 120 seconds (instead of the default 30 days!). This will lower the risk for more and more zombie worker processes cluttering up the test machine (e.g. CRAN servers) in case a worker process is left behind despite the main R processes is terminated. Note that these adjustments are applied automatically to the checks of any package that depends on, or imports, the ‘future’ package.</li>
</ul>
</div>
<div id="bug-fixes-12" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-12" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>Whenever makeClusterPSOCK() would fail to connect to a worker, for instance due to a port clash, then it would leave the R worker process running - also after the main R process terminated. When the worker is running on the same machine, makeClusterPSOCK() will now attempt to kill such stray R processes. Note that parallel::makePSOCKcluster() still has this problem.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-11-0" class="section level1">
<h1 class="page-header" data-toc-text="1.11.0">
<a href="#parallelly-1-11-0" class="anchor"></a>parallelly 1.11.0<small> Unreleased </small>
</h1>
<div id="new-features-15" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-15" class="anchor"></a>New Features</h3>
<ul>
<li><p>makeClusterPSOCK() produces more informative error messages whenever the setup of R workers fails. Also, its verbose messages are now prefixed with “[local output]” to help distinguish the output produced by the current R session from that produced by background workers.</p></li>
<li><p>It is now possible to specify what type of SSH clients makeClusterPSOCK() automatically searches for and in what order, e.g. ‘rshcmd = c(“&lt;rstudio-ssh&gt;”, “&lt;putty-plink&gt;”)’.</p></li>
<li><p>Now makeClusterPSOCK() preserves the global RNG state (.Random.seed) also when it draws a random port number.</p></li>
<li><p>makeClusterPSOCK() gained argument ‘rshlogfile’.</p></li>
</ul>
</div>
<div id="bug-fixes-13" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-13" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>makeClusterPSOCK(…, rscript = “my_r”) would in some cases fail to find the intended ‘my_r’ executable.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-10-0" class="section level1">
<h1 class="page-header" data-toc-text="1.10.0">
<a href="#parallelly-1-10-0" class="anchor"></a>parallelly 1.10.0<small> Unreleased </small>
</h1>
<div id="new-features-16" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-16" class="anchor"></a>New Features</h3>
<ul>
<li><p>Add makeClusterMPI(n) for creating MPI-based clusters of a similar kind as parallel::makeCluster(n, type = “MPI”) but that also attempts to workaround issues where parallel::stopCluster() causes R to stall.</p></li>
<li><p>makeClusterPSOCK() and makeClusterMPI() gained argument ‘autoStop’ for controlling whether the cluster should be automatically stopped when garbage collected or not.</p></li>
</ul>
</div>
</div>
    <div id="parallelly-1-9-0" class="section level1">
<h1 class="page-header" data-toc-text="1.9.0">
<a href="#parallelly-1-9-0" class="anchor"></a>parallelly 1.9.0<small> Unreleased </small>
</h1>
<div id="bug-fixes-14" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-14" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>makeClusterPSOCK() produced a warning when environment variable ‘R_PARALLEL_PORT’ was set to ‘random’ (e.g. as on CRAN).</li>
</ul>
</div>
</div>
    <div id="parallelly-1-8-1" class="section level1">
<h1 class="page-header" data-toc-text="1.8.1">
<a href="#parallelly-1-8-1" class="anchor"></a>parallelly 1.8.1<small> Unreleased </small>
</h1>
<div id="new-features-17" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-17" class="anchor"></a>New Features</h3>
<ul>
<li>makeClusterPSOCK() now produces a more informative warning if environment variable R_PARALLEL_PORT specifies a non-numeric port.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-7-0" class="section level1">
<h1 class="page-header" data-toc-text="1.7.0">
<a href="#parallelly-1-7-0" class="anchor"></a>parallelly 1.7.0<small> Unreleased </small>
</h1>
<div id="new-features-18" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-18" class="anchor"></a>New Features</h3>
<ul>
<li>On Windows, makeClusterPSOCK(), and therefore plan(multisession) and plan(multiprocess), will use the SSH client distributed with RStudio as a fallback if neither ‘ssh’ nor ‘plink’ is available on the system PATH.</li>
</ul>
</div>
<div id="bug-fixes-15" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-15" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>makeClusterPSOCK(…, renice = 19) would launch each PSOCK worker via ‘nice +19’ resulting in the error “nice: ‘+19’: No such file or directory”. This bug was inherited from parallel::makePSOCKcluster(). Now using ‘nice –adjustment=19’ instead.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-5-0" class="section level1">
<h1 class="page-header" data-toc-text="1.5.0">
<a href="#parallelly-1-5-0" class="anchor"></a>parallelly 1.5.0<small> Unreleased </small>
</h1>
<div id="new-features-19" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-19" class="anchor"></a>New Features</h3>
<ul>
<li><p>makeClusterPSOCK() now defaults to use the Windows PuTTY software’s SSH client ‘plink -ssh’, if ‘ssh’ is not found.</p></li>
<li><p>Argument ‘homogeneous’ of makeNodePSOCK(), a helper function of makeClusterPSOCK(), will default to FALSE also if the hostname is a fully qualified domain name (FQDN), that is, it “contains periods”. For instance, c(‘node1’, ‘node2.server.org’) will use homogeneous = TRUE for the first worker and homogeneous = FALSE for the second.</p></li>
<li><p>makeClusterPSOCK() now asserts that each cluster node is functioning by retrieving and recording the node’s session information including the process ID of the corresponding R process.</p></li>
</ul>
</div>
<div id="documentation-2" class="section level3">
<h3 class="hasAnchor">
<a href="#documentation-2" class="anchor"></a>Documentation</h3>
<ul>
<li>Help on makeClusterPSOCK() gained more detailed descriptions on arguments and what their defaults are.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-4-0" class="section level1">
<h1 class="page-header" data-toc-text="1.4.0">
<a href="#parallelly-1-4-0" class="anchor"></a>parallelly 1.4.0<small> Unreleased </small>
</h1>
<div id="new-features-20" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-20" class="anchor"></a>New Features</h3>
<ul>
<li>The default values for arguments ‘connectTimeout’ and ‘timeout’ of makeNodePSOCK() can now be controlled via global options.</li>
</ul>
</div>
<div id="deprecated-and-defunct-1" class="section level3">
<h3 class="hasAnchor">
<a href="#deprecated-and-defunct-1" class="anchor"></a>Deprecated and Defunct</h3>
<ul>
<li>availableCores(method = “mc.cores”) is now defunct in favor of “mc.cores+1”.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-3-0" class="section level1">
<h1 class="page-header" data-toc-text="1.3.0">
<a href="#parallelly-1-3-0" class="anchor"></a>parallelly 1.3.0<small> Unreleased </small>
</h1>
<div id="new-features-21" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-21" class="anchor"></a>New Features</h3>
<ul>
<li><p>makeClusterPSOCK() treats workers that refer to a local machine by its local or canonical hostname as “localhost”. This avoids having to launch such workers over SSH, which may not be supported on all systems / compute cluster.</p></li>
<li><p>Added availableWorkers(). By default it returns localhost workers according to availableCores(). In addition, it detects common HPC allocations given in environment variables set by the HPC scheduler.</p></li>
<li><p>Option ‘future.availableCores.fallback’, which defaults to environment variable ‘R_FUTURE_AVAILABLECORES_FALLBACK’ can now be used to specify the default number of cores / workers returned by availableCores() and availableWorkers() when no other settings are available. For instance, if R_FUTURE_AVAILABLECORES_FALLBACK=1 is set system wide in an HPC environment, then all R processes that uses availableCores() to detect how many cores can be used will run as single-core processes. Without this fallback setting, and without other core-specifying settings, the default will be to use all cores on the machine, which does not play well on multi-user systems.</p></li>
</ul>
</div>
<div id="bug-fixes-16" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-16" class="anchor"></a>Bug Fixes</h3>
<ul>
<li><p>Creation of cluster futures (including multisession ones) would time out already after 40 seconds if all workers were busy. New default timeout is 30 days (option ‘future.wait.timeout’).</p></li>
<li><p>availableCores(methods = “_R_CHECK_LIMIT_CORES_”) would give an error if not running R CMD check.</p></li>
</ul>
</div>
</div>
    <div id="parallelly-1-2-0" class="section level1">
<h1 class="page-header" data-toc-text="1.2.0">
<a href="#parallelly-1-2-0" class="anchor"></a>parallelly 1.2.0<small> Unreleased </small>
</h1>
<div id="new-features-22" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-22" class="anchor"></a>New Features</h3>
<ul>
<li><p>Added makeClusterPSOCK() - a version of parallel::makePSOCKcluster() that allows for more flexible control of how PSOCK cluster workers are set up and how they are launched and communicated with if running on external machines.</p></li>
<li><p>Added generic as.cluster() for coercing objects to cluster objects to be used as in plan(cluster, workers = as.cluster(x)). Also added a c() implementation for cluster objects such that multiple cluster objects can be combined into a single one.</p></li>
</ul>
</div>
<div id="bug-fixes-17" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-17" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>Argument ‘user’ to remote() was ignored (since 1.1.0).</li>
</ul>
</div>
</div>
    <div id="parallelly-1-1-1" class="section level1">
<h1 class="page-header" data-toc-text="1.1.1">
<a href="#parallelly-1-1-1" class="anchor"></a>parallelly 1.1.1<small> Unreleased </small>
</h1>
<div id="bug-fixes-18" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-18" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>For the special case where ‘remote’ futures use workers = “localhost” they (again) use the exact same R executable as the main / calling R session (in all other cases it uses whatever ‘Rscript’ is found in the PATH). This was already indeed implemented in 1.0.1, but with the added support for reverse SSH tunnels in 1.1.0 this default behavior was lost.</li>
</ul>
</div>
</div>
    <div id="parallelly-1-1-0" class="section level1">
<h1 class="page-header" data-toc-text="1.1.0">
<a href="#parallelly-1-1-0" class="anchor"></a>parallelly 1.1.0<small> Unreleased </small>
</h1>
<div id="new-features-23" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-23" class="anchor"></a>New Features</h3>
<ul>
<li>REMOTE CLUSTERS: It is now very simple to use cluster() and remote() to connect to remote clusters / machines. As long as you can connect via ssh to those machines, it works also with these future. The new code completely avoids incoming firewall and incoming port forwarding issues previously needed. This is done by using reverse SSH tunneling. There is also no need to worry about internal or external IP numbers.</li>
</ul>
</div>
</div>
    <div id="parallelly-0-15-0" class="section level1">
<h1 class="page-header" data-toc-text="0.15.0">
<a href="#parallelly-0-15-0" class="anchor"></a>parallelly 0.15.0<small> Unreleased </small>
</h1>
<div id="new-features-24" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-24" class="anchor"></a>New Features</h3>
<ul>
<li>Now availableCores() also acknowledges environment variable NSLOTS set by Sun/Oracle Grid Engine (SGE).</li>
</ul>
</div>
</div>
    <div id="parallelly-0-12-0" class="section level1">
<h1 class="page-header" data-toc-text="0.12.0">
<a href="#parallelly-0-12-0" class="anchor"></a>parallelly 0.12.0<small> Unreleased </small>
</h1>
<div id="bug-fixes-19" class="section level3">
<h3 class="hasAnchor">
<a href="#bug-fixes-19" class="anchor"></a>Bug Fixes</h3>
<ul>
<li>FIX: Now availableCores() returns 3L (=2L+1L) instead of 2L if _R_CHECK_LIMIT_CORES_ is set.</li>
</ul>
</div>
</div>
    <div id="parallelly-0-10-0" class="section level1">
<h1 class="page-header" data-toc-text="0.10.0">
<a href="#parallelly-0-10-0" class="anchor"></a>parallelly 0.10.0<small> Unreleased </small>
</h1>
<div id="new-features-25" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-25" class="anchor"></a>New Features</h3>
<ul>
<li>Now availableCores() also acknowledges the number of CPUs allotted by Slurm.</li>
</ul>
</div>
</div>
    <div id="parallelly-0-8-0" class="section level1">
<h1 class="page-header" data-toc-text="0.8.0">
<a href="#parallelly-0-8-0" class="anchor"></a>parallelly 0.8.0<small> Unreleased </small>
</h1>
<div id="new-features-26" class="section level3">
<h3 class="hasAnchor">
<a href="#new-features-26" class="anchor"></a>New Features</h3>
<ul>
<li>availableCores(“mc.cores”) returns getOption(“mc.cores”) + 1L, because option ‘mc.cores’ specifies “allowed number of _additional_ R processes” to be used in addition to the main R process.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Henrik Bengtsson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1 and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9002.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: 'aa6e02fc501886fb0f7c91ac4e300456',
    indexName: 'futureverse',
    algoliaOptions: { 'facetFilters': ['project:parallelly'] },
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


